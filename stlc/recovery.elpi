% rec_term is called by a tactic
% when it needs to perform the
% recovery of metavars

mode (rec_term i i i).

%rec_term A B C :- print (rec_term A B C), fail.

rec_term (uvar as Y) Vars K :- lookdown Y X, K [(Vars, X)].

rec_term (lam N T F) Vars K :- pi x\ rec_term (F x) [(x, N)|Vars] K.
rec_term (app M N) Vars K :- rec_term M Vars K, rec_term N Vars K.

rec_term X Vars K :-
    name X,
    % dovrei controllare che X sia in Vars?
    K [].


